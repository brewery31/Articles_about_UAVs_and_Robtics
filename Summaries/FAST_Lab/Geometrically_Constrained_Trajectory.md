# 基于几何约束的多旋翼飞行器轨迹优化框架总结

本文提出了一种针对多旋翼飞行器的优化轨迹规划框架，该框架能够在考虑几何配置约束和用户定义的动态约束条件下，高效生成高质量轨迹。以下是主要内容总结：

## 1. 核心贡献

1. **MINCO轨迹类**：基于多阶段控制努力最小化的最优性条件，设计了一种新型轨迹表示方法。任何MINCO轨迹默认都是无约束控制努力最小化器，其稀疏参数直接控制轨迹的空间和时间轮廓。

2. **空间-时间变形方案**：设计了线性复杂度操作，在各种规划需求下进行空间-时间变形，支持灵活优化。

3. **约束消除技术**：
   - 使用光滑映射轻量级地精确消除几何约束
   - 通过解耦密集约束评估与稀疏参数化，支持各种状态-输入约束
   - 利用平坦性映射的反向微分处理约束

4. **性能优势**：将一般约束的多旋翼规划问题转化为无约束优化问题，在计算速度和解决方案质量上优于现有方法。

## 2. 理论基础

### 2.1 多阶段控制努力最小化

提出了多阶段控制努力最小化问题的充分必要条件，首次证明了其存在性和唯一性。这些条件使得最优解可以直接以线性的时间和空间复杂度构造。

00M中一个(M-1)-单纯形的相对内部。'>

### 2.2 平坦性理论应用

利用多旋翼飞行器的微分平坦特性，将轨迹生成问题转化为平坦输出空间的优化问题，避免了直接处理系统动力学方程。

## 3. 约束处理技术

### 3.1 时间约束消除

使用微分同胚将时间变量T的约束域映射到欧几里得空间，使标准优化器可以直接应用。

### 3.2 空间约束消除

1. **球形约束消除**：使用逆球极投影和正投影的组合映射，将Rn映射到单位球内。



2. **多面体约束消除**：利用多面体的V-表示和重心坐标，通过平方映射和球面映射的组合将约束转化为无约束优化问题。



### 3.3 连续时间约束处理

提出时间积分惩罚函数方法，将连续时间约束转化为有限约束，避免离散化带来的计算负担。

## 4. 优化框架

将约束轨迹优化问题转化为稀疏无约束非线性规划问题：
1. 将轨迹参数化为MINCO类
2. 应用约束消除技术处理几何约束
3. 使用惩罚函数方法处理状态-输入约束
4. 利用平坦性映射的反向微分计算梯度

## 5. 实验验证

### 5.1 大规模无约束控制努力最小化

在计算效率上比现有方法(Mellinger、Bry、Burke等)快几个数量级，同时保持线性复杂度。



### 5.2 安全飞行走廊内的轨迹生成

在3D安全飞行走廊(SFCs)内生成轨迹，处理多面体和球形两种走廊类型，支持速度、加速度等动态限制。



### 5.3 SE(3)运动规划

在商空间中实现SE(3)运动规划，考虑飞行器的实际几何形状和姿态约束，实现通过狭窄空间的敏捷飞行。



## 6. 实际应用

### 6.1 高速自主飞行

在复杂环境中实现高速自主飞行，计算速度达到0.29秒生成343.57米轨迹，飞行速度达到12.0m/s。



### 6.2 狭窄空间飞行

实现通过狭窄窗口的SE(3)机动飞行，安全裕度仅5.4厘米，验证了框架的约束保真度和鲁棒性。



## 7. 结论

该框架通过MINCO轨迹表示、约束消除技术和惩罚函数方法，实现了高效、高质量的多旋翼轨迹规划，在计算效率、解决方案质量、鲁棒性和通用性方面均优于现有方法。实验验证表明，该方法在复杂环境中能够实现高速、高机动性的自主飞行。